(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user_rights_roles"],{"00b4":function(e,t,r){"use strict";r("ac1f");var a=r("23e7"),s=r("da84"),o=r("c65b"),i=r("e330"),n=r("1626"),l=r("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=s.Error,d=i(/./.test);a({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!n(t))return d(this,e);var r=o(t,this,e);if(null!==r&&!l(r))throw new u("RegExp exec method returned something other than an Object or null");return!!r}})},"057f":function(e,t,r){var a=r("c6b6"),s=r("fc6a"),o=r("241c").f,i=r("f36a"),n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(t){return i(n)}};e.exports.f=function(e){return n&&"Window"==a(e)?l(e):o(s(e))}},"107c":function(e,t,r){var a=r("d039"),s=r("da84"),o=s.RegExp;e.exports=a((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"159b":function(e,t,r){var a=r("da84"),s=r("fdbc"),o=r("785a"),i=r("17c2"),n=r("9112"),l=function(e){if(e&&e.forEach!==i)try{n(e,"forEach",i)}catch(t){e.forEach=i}};for(var c in s)s[c]&&l(a[c]&&a[c].prototype);l(o)},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,s=r("a640"),o=s("forEach");e.exports=o?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"18c4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("用户管理")]),r("el-breadcrumb-item",[e._v("用户列表")])],1),r("el-card",[r("el-row",{attrs:{gutter:28}},[r("el-col",{attrs:{span:9}},[r("el-input",{attrs:{placeholder:"请输入搜索内容",clearable:""},on:{clear:e.getUserList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getUserList},slot:"append"})],1)],1),r("el-col",{attrs:{span:8}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加用户")]),r("el-dialog",{attrs:{title:"请输入用户信息",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"addFormRef",attrs:{model:e.addUserData,rules:e.addFromRules}},[r("el-form-item",{attrs:{label:"用户名：",prop:"username"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addUserData.username,callback:function(t){e.$set(e.addUserData,"username","string"===typeof t?t.trim():t)},expression:"addUserData.username"}})],1),r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-input",{attrs:{autocomplete:"off",type:"password","show-password":""},model:{value:e.addUserData.password,callback:function(t){e.$set(e.addUserData,"password","string"===typeof t?t.trim():t)},expression:"addUserData.password"}})],1),r("el-form-item",{attrs:{label:"邮箱：",prop:"email"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addUserData.email,callback:function(t){e.$set(e.addUserData,"email",t)},expression:"addUserData.email"}})],1),r("el-form-item",{attrs:{label:"手机号：",prop:"mobile"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.addUserData.mobile,callback:function(t){e.$set(e.addUserData,"mobile",t)},expression:"addUserData.mobile"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addUserInfo}},[e._v("确 定")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"#",width:"50",type:"index",index:e.indexMethods}}),r("el-table-column",{attrs:{prop:"username",label:"姓名",width:"183"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"210"}}),r("el-table-column",{attrs:{prop:"mobile",label:"电话",width:"200"}}),r("el-table-column",{attrs:{prop:"role_name",label:"角色",width:"180"}}),r("el-table-column",{attrs:{prop:"mg_state",label:"状态",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(r){return e.changeUserStatus(t.row)}},model:{value:t.row.mg_state,callback:function(r){e.$set(t.row,"mg_state",r)},expression:"scope.row.mg_state"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){return e.showUpdateUserData(t.row)}}}),r("el-dialog",{attrs:{title:"修改信息",visible:e.dialogUpdateVisible,width:"40%"},on:{"update:visible":function(t){e.dialogUpdateVisible=t}}},[r("el-form",{ref:"updateUserRef",attrs:{model:e.updateUserForm,"label-width":"80px",rules:e.updateUserRules}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{attrs:{placeholder:e.updateUserName,disabled:!0}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.updateUserForm.email,callback:function(t){e.$set(e.updateUserForm,"email",t)},expression:"updateUserForm.email"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[r("el-input",{model:{value:e.updateUserForm.mobile,callback:function(t){e.$set(e.updateUserForm,"mobile",t)},expression:"updateUserForm.mobile"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeUpdateDialog}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.updateUserInfo(t.row)}}},[e._v("确 定")])],1)],1),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.removeUser(t.row)}}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"分配角色",placement:"top",enterable:!1,"open-delay":500}},[r("el-button",{attrs:{type:"warning",icon:"el-icon-s-help",size:"mini"},on:{click:function(r){return e.showSetUserDialog(t.row)}}})],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.setUserRolesDialogVisible,width:"50%"},on:{"update:visible":function(t){e.setUserRolesDialogVisible=t}}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("p",[e._v("当前用户："+e._s(e.currentUserInfo.username))])])],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("p",[e._v("当前角色："+e._s(e.currentUserInfo.role_name))])])],1),r("el-row",[r("el-col",{attrs:{span:4}},[r("p",[e._v("选择角色：")])]),r("el-col",{attrs:{span:20}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectRulesId,callback:function(t){e.selectRulesId=t},expression:"selectRulesId"}},e._l(e.getRolesData,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.setUserRolesDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.setUserRoles}},[e._v("确 定")])],1)],1)]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[3,5,7],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},s=[],o=(r("ac1f"),r("00b4"),r("99af"),{name:"Users",created:function(){this.getUserList()},data:function(){var e=function(e,t,r){if(""===t)r(new Error("邮箱不可以为空"));else{var a=/^([a-zA-Z0-9])+(([a-zA-Z0-9])|([._-][a-zA-Z0-9])*)+@([a-zA-Z0-9-])+((\.[a-zA-Z0-9-]{2,3}){1,2})$/;a.test(t)?r():r(new Error("邮箱格式不正确"))}},t=function(e,t,r){if(""===t)r(new Error("手机号不可以为空"));else{var a=/^1[3-9]\d{9}$/;a.test(t)?r():r(new Error("手机号格式不正确"))}};return{queryInfo:{query:"",pagenum:1,pagesize:3},userList:[],pageTotal:0,dialogFormVisible:!1,dialogUpdateVisible:!1,addFromRules:{username:[{required:!0,message:"用户名不可以为空",trigger:"blur"},{min:1,max:8,message:"用户名长度不可以超过8个字符",trigger:"blur"}],password:[{required:!0,message:"密码不可以为空",trigger:"blur"},{min:8,max:16,message:"密码长度为8到16位",trigger:"blur"}],email:[{required:!0,validator:e,trigger:"blur"}],mobile:[{validator:t,trigger:"blur"}]},updateUserRules:{email:[{required:!0,validator:e,trigger:"blur"}],mobile:[{required:!0,validator:t,trigger:"blur"}]},addUserData:{username:"",password:"",email:"",mobile:""},updateUserForm:{id:null,email:"",mobile:""},updateUserName:"张三",setUserRolesDialogVisible:!1,currentUserInfo:{},getRolesData:[],selectRulesId:""}},methods:{getUserList:function(){var e=this;this.$http({url:"/users",method:"get",params:this.queryInfo}).then((function(t){var r=t.data;if(200!=r.meta.status)return e.$message.error("获取用户列表失败");e.userList=r.data.users,e.pageTotal=r.data.total})).catch((function(e){}))},indexMethods:function(e){return e+1},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getUserList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getUserList()},changeUserStatus:function(e){var t=this;this.$http.put("users/".concat(e.id,"/state/").concat(e.mg_state)).then((function(r){var a=r.data;if(200!==a.meta.status)return e.mg_state=!e.mg_state,t.$message({message:"修改用户状态失败",type:"error",showClose:!0}),!1})).catch((function(e){}))},addUserInfo:function(){var e=this;this.$refs.addFormRef.validate((function(t){t?e.$confirm("确认添加管理员吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",center:!0}).then((function(){e.dialogFormVisible=!1,e.$http({method:"post",url:"users",data:e.addUserData}).then((function(t){var r=t.data;201!==r.meta.status?e.$message({type:"error",message:"添加失败",showClose:!0}):(e.$message({type:"success",message:"添加成功!",showClose:!0}),e.resetForm(),e.getUserList())})).catch((function(e){}))})).catch((function(){e.$message({type:"info",message:"您已取消添加",showClose:!0}),e.resetForm()})):e.$message({type:"error",message:"请填写表单内容",showClose:!0})}))},updateUserInfo:function(e){var t=this;this.$refs.updateUserRef.validate((function(r){r?t.$http.put("users/".concat(e.id),{email:t.updateUserForm.email,mobile:t.updateUserForm.mobile}).then((function(e){var r=e.data;200!=r.meta.status?t.$message({type:"error",message:"服务器出小差了哦！",showClose:!0}):(t.$message({type:"success",message:"更新成功",showClose:!0}),t.closeUpdateDialog(),t.getUserList())})).catch((function(e){})):t.$message({type:"error",message:"修改用户信息失败，请检查格式是否正确"})}))},showUpdateUserData:function(e){var t=this;this.dialogUpdateVisible=!0,this.$http({method:"get",url:"users/".concat(e.id)}).then((function(e){var r=e.data;200!=r.meta.status?(t.dialogUpdateVisible=!1,t.$message({type:"error",message:"服务器好像开小差了",showClose:!0})):(t.updateUserName=r.data.username,t.updateUserForm.mobile=r.data.mobile,t.updateUserForm.email=r.data.email)})).catch((function(e){}))},resetForm:function(){this.$refs.addFormRef.resetFields(),this.dialogFormVisible=!1},closeUpdateDialog:function(){this.dialogUpdateVisible=!1,this.$refs.updateUserRef.resetFields()},removeUser:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.delete("users/".concat(e.id)).then((function(e){var r=e.data;200!=r.meta.status?t.$message({type:"error",message:"服务器出小差了",showClose:!0}):(t.$message({type:"success",message:"删除成功",showClose:!0}),t.getUserList())}))})).catch((function(e){t.$message({type:"info",message:"已取消删除",showClose:!0})}))},showSetUserDialog:function(e){var t=this;this.selectRulesId="",this.currentUserInfo=e,this.$http.get("roles").then((function(e){var r=e.data;if(200!=r.meta.status)return t.$message({type:"error",message:"服务器出小差了！"}),!1;t.getRolesData=r.data})).catch((function(e){})),this.setUserRolesDialogVisible=!0},setUserRoles:function(){var e=this;this.setUserRolesDialogVisible=!1;var t=this.currentUserInfo.id,r=this.selectRulesId;this.$confirm("确认设置权限吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.put("users/".concat(t,"/role"),{rid:r}).then((function(t){var r=t.data;if(200!=r.meta.status)return e.$message({type:"error",message:"更新失败！",showClose:!0}),!1;e.getUserList(),e.$message({type:"success",message:"更新成功！",showClose:!0})})).catch((function(e){}))})).catch((function(){e.$message({type:"info",message:"已取消授权"})}))}}}),i=o,n=(r("6ead"),r("2877")),l=Object(n["a"])(i,a,s,!1,null,"620b3704",null);t["default"]=l.exports},3024:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("权限管理")]),r("el-breadcrumb-item",[e._v("角色列表")])],1),r("el-card",{staticClass:"box-card"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{attrs:{type:"primary"},on:{click:e.openAddDialog}},[e._v("添加角色")]),r("el-dialog",{attrs:{title:"添加用户",visible:e.addUserDialogVisible,width:"40%"},on:{"update:visible":function(t){e.addUserDialogVisible=t}}},[r("el-form",{ref:"addUserRef",attrs:{model:e.addRolesInfo,rules:e.addUserRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称：",prop:"roleName"}},[r("el-input",{model:{value:e.addRolesInfo.roleName,callback:function(t){e.$set(e.addRolesInfo,"roleName",t)},expression:"addRolesInfo.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述：",prop:"roleDesc"}},[r("el-input",{model:{value:e.addRolesInfo.roleDesc,callback:function(t){e.$set(e.addRolesInfo,"roleDesc",t)},expression:"addRolesInfo.roleDesc"}})],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addUserDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addUserInfo}},[e._v("确 定")])],1)],1)],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rolesList,stripe:!0,border:!0}},[r("el-table-column",{attrs:{type:"expand",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(a){return r("el-row",{key:a.id,class:["vcenter"]},[r("el-col",{attrs:{span:5}},[r("el-tag",{attrs:{closable:""},on:{close:function(r){return e.deleteRights(t.row.id,a.id)}}},[e._v(e._s(a.authName))]),r("i",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:19}},e._l(a.children,(function(a){return r("el-row",{key:a.id,class:["vcenter"]},[r("el-col",{attrs:{span:6}},[r("el-tag",{attrs:{type:"success",closable:""},on:{close:function(r){return e.deleteRights(t.row.id,a.id)}}},[e._v(e._s(a.authName))]),r("i",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:18}},e._l(a.children,(function(a){return r("el-tag",{key:a.id,attrs:{closable:"",type:"warning"},on:{close:function(r){return e.deleteRights(t.row.id,a.id)}}},[e._v(" "+e._s(a.authName)+" ")])})),1)],1)})),1)],1)}))}}])}),r("el-table-column",{attrs:{label:"#",type:"index",index:e.indexMethods,width:"50"}}),r("el-table-column",{attrs:{label:"角色名称",prop:"roleName",width:"330"}}),r("el-table-column",{attrs:{label:"角色概述",prop:"roleDesc",width:"354"}}),r("el-table-column",{attrs:{label:"操作",prop:"desc",width:"430"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary"},on:{click:function(r){return e.openEditUserDialog(t.row)}}},[e._v("编辑")]),r("el-dialog",{attrs:{title:"编辑角色信息",visible:e.editUserDialogVisible,width:"45%"},on:{"update:visible":function(t){e.editUserDialogVisible=t}}},[r("el-form",{ref:"editUserRef",attrs:{model:e.editRolesInfo,rules:e.editUserRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称：",prop:"roleName"}},[r("el-input",{model:{value:e.editRolesInfo.roleName,callback:function(t){e.$set(e.editRolesInfo,"roleName",t)},expression:"editRolesInfo.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述：",prop:"roleDesc"}},[r("el-input",{model:{value:e.editRolesInfo.roleDesc,callback:function(t){e.$set(e.editRolesInfo,"roleDesc",t)},expression:"editRolesInfo.roleDesc"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editUserDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.editUserInfo(t.row)}}},[e._v("确 定")])],1)],1),r("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger"},on:{click:function(r){return e.delRoles(t.row)}}},[e._v("删除")]),r("el-button",{attrs:{type:"warning",icon:"el-icon-star-off"},on:{click:function(r){return e.showSetRightsDialog(t.row)}}},[e._v("分配权限")]),r("el-dialog",{attrs:{title:"权限列表",visible:e.setRightsDialogVisible,width:"40%"},on:{"update:visible":function(t){e.setRightsDialogVisible=t},close:e.closeSetRightsDialog}},[r("el-tree",{ref:"setRightsRef",attrs:{data:e.setRightsData,"show-checkbox":"",props:e.setRightsProps,"node-key":"id","default-checked-keys":e.alreadyHaveRightsArr}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.setRightsDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.allotRights}},[e._v("确 定")])],1)],1)]}}])})],1)],1)],1)},s=[];function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function i(e){if(Array.isArray(e))return o(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0"),r("ac1f"),r("00b4");function l(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||n(e)||l(e)||c()}r("99af"),r("159b"),r("a15b");var d={name:"Roles",data:function(){return{rolesList:[],addRolesInfo:{roleName:"",roleDesc:""},addUserDialogVisible:!1,addUserRules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}],roleDesc:[{required:!0,message:"请输入角色描述",trigger:"blur"}]},editUserDialogVisible:!1,editRolesInfo:{roleName:"",roleDesc:""},editUserRules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}],roleDesc:[{required:!0,message:"请输入角色描述",trigger:"blur"}]},dialogID:"",setRightsDialogVisible:!1,setRightsData:[],setRightsProps:{children:"children",label:"authName"},alreadyHaveRightsArr:[],roleID:0}},created:function(){this.getRolesList()},methods:{getRolesList:function(){var e=this;this.$http.get("roles").then((function(t){var r=t.data;200!=r.meta.status?e.$message({type:"error",message:"服务器好像开小差啦！"}):e.rolesList=r.data})).catch((function(e){}))},addUserInfo:function(){var e=this;this.$refs.addUserRef.validate((function(t){if(!t)return e.$message({type:"error",message:"请填写表单信息"}),!1;e.$http.post("roles",e.addRolesInfo).then((function(t){var r=t.data;201!=r.meta.status?(e.$message({type:"error",message:"服务器出小差了，添加失败",showClose:!0}),e.addUserDialogVisible=!1):(e.$message({type:"success",message:"用户添加添加成功",showClose:!0}),e.getRolesList(),e.addUserDialogVisible=!1)}))}))},openAddDialog:function(){this.addUserDialogVisible=!0,this.$refs.addUserRef.resetFields()},openEditUserDialog:function(e){var t=this;this.editUserDialogVisible=!0,this.dialogID=e.id,this.$http.get("roles/".concat(e.id)).then((function(e){var r=e.data;if(200!=r.meta.status)return!1;t.editRolesInfo.roleName=r.data.roleName,t.editRolesInfo.roleDesc=r.data.roleDesc})).catch((function(e){}))},editUserInfo:function(e){var t=this;this.$refs.editUserRef.validate((function(e){e?t.$http.put("roles/".concat(t.dialogID),{roleName:t.editRolesInfo.roleName,roleDesc:t.editRolesInfo.roleDesc}).then((function(e){var r=e.data;200!=r.meta.status?t.$message({type:"error",message:"服务器好像出小差了哦！",showClose:!0}):(t.$message({type:"success",message:"更新成功",showClose:!0}),t.getRolesList(),t.editUserDialogVisible=!1)})).catch((function(e){})):t.$message({type:"error",message:"请输入表单内容哦！"})}))},delRoles:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.delete("roles/".concat(e.id)).then((function(e){var r=e.data;200!=r.meta.status?t.$message({type:"error",message:"删除失败"}):(t.$message({type:"success",message:"删除成功!"}),t.getRolesList())})).catch((function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},showSetRightsDialog:function(e){var t=this;this.setRightsDialogVisible=!0,this.roleID=e.id,this.getLeaveRights(e,this.alreadyHaveRightsArr),this.$http.get("rights/tree").then((function(e){var r=e.data;200!=r.meta.status?t.$message({type:"error",message:"服务器出小差了！"}):t.setRightsData=r.data})).catch((function(e){}))},deleteRights:function(e,t){var r=this;this.$confirm("此操作将会永久删除该权限，是否继续删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r.$http.delete("roles/".concat(e,"/rights/").concat(t)).then((function(e){var t=e.data;200!=t.meta.status?r.$message({type:"error",message:"删除失败！"}):(r.$message({type:"success",message:"删除成功!"}),r.getRolesList())})).catch((function(e){}))})).catch((function(){r.$message({type:"info",message:"已取消删除"})}))},getLeaveRights:function(e,t){var r=this;if(!e.children)return t.push(e.id);e.children.forEach((function(e){r.getLeaveRights(e,t)}))},closeSetRightsDialog:function(){this.alreadyHaveRightsArr=[]},allotRights:function(){var e=this;this.setRightsDialogVisible=!1;var t=[].concat(u(this.$refs.setRightsRef.getCheckedKeys()),u(this.$refs.setRightsRef.getHalfCheckedKeys())),r=t.join();this.$confirm("是否确认修改权限?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http.post("roles/".concat(e.roleID,"/rights"),{rids:r}).then((function(t){var r=t.data;200!=r.meta.status?e.$message({type:"error",message:"服务器好像出小差了！"}):(e.$message({type:"success",message:"修改成功！"}),e.getRolesList())})).catch((function(e){}))})).catch((function(){e.$message({type:"info",message:"已取消修改"})}))}},computed:{indexMethods:function(){var e=1;return e++}}},f=d,p=(r("9a3d"),r("2877")),m=Object(p["a"])(f,a,s,!1,null,"4c076060",null);t["default"]=m.exports},3046:function(e,t,r){},"428f":function(e,t,r){var a=r("da84");e.exports=a},"4df4":function(e,t,r){"use strict";var a=r("da84"),s=r("0366"),o=r("c65b"),i=r("7b0b"),n=r("9bdd"),l=r("e95a"),c=r("68ee"),u=r("07fa"),d=r("8418"),f=r("9a1f"),p=r("35a1"),m=a.Array;e.exports=function(e){var t=i(e),r=c(this),a=arguments.length,g=a>1?arguments[1]:void 0,h=void 0!==g;h&&(g=s(g,a>2?arguments[2]:void 0));var b,v,y,w,R,U,x=p(t),D=0;if(!x||this==m&&l(x))for(b=u(t),v=r?new this(b):m(b);b>D;D++)U=h?g(t[D],D):t[D],d(v,D,U);else for(w=f(t,x),R=w.next,v=r?new this:[];!(y=o(R,w)).done;D++)U=h?n(w,g,[y.value,D],!0):y.value,d(v,D,U);return v.length=D,v}},"6ead":function(e,t,r){"use strict";r("73c2")},"6fbc":function(e,t,r){"use strict";r("3046")},"73c2":function(e,t,r){},"746f":function(e,t,r){var a=r("428f"),s=r("1a2d"),o=r("e538"),i=r("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});s(t,e)||i(t,e,{value:o.f(e)})}},8418:function(e,t,r){"use strict";var a=r("a04b"),s=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var i=a(t);i in e?s.f(e,i,o(0,r)):e[i]=r}},9263:function(e,t,r){"use strict";var a=r("c65b"),s=r("e330"),o=r("577e"),i=r("ad6d"),n=r("9f7f"),l=r("5692"),c=r("7c73"),u=r("69f3").get,d=r("fce3"),f=r("107c"),p=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,g=m,h=s("".charAt),b=s("".indexOf),v=s("".replace),y=s("".slice),w=function(){var e=/a/,t=/b*/g;return a(m,e,"a"),a(m,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),R=n.UNSUPPORTED_Y||n.BROKEN_CARET,U=void 0!==/()??/.exec("")[1],x=w||U||R||d||f;x&&(g=function(e){var t,r,s,n,l,d,f,x=this,D=u(x),$=o(e),I=D.raw;if(I)return I.lastIndex=x.lastIndex,t=a(g,I,$),x.lastIndex=I.lastIndex,t;var _=D.groups,k=R&&x.sticky,S=a(i,x),C=x.source,E=0,V=$;if(k&&(S=v(S,"y",""),-1===b(S,"g")&&(S+="g"),V=y($,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==h($,x.lastIndex-1))&&(C="(?: "+C+")",V=" "+V,E++),r=new RegExp("^(?:"+C+")",S)),U&&(r=new RegExp("^"+C+"$(?!\\s)",S)),w&&(s=x.lastIndex),n=a(m,k?r:x,V),k?n?(n.input=y(n.input,E),n[0]=y(n[0],E),n.index=x.lastIndex,x.lastIndex+=n[0].length):x.lastIndex=0:w&&n&&(x.lastIndex=x.global?n.index+n[0].length:s),U&&n&&n.length>1&&a(p,n[0],r,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(n[l]=void 0)})),n&&_)for(n.groups=d=c(null),l=0;l<_.length;l++)f=_[l],d[f[0]]=n[f[1]];return n}),e.exports=g},"99af":function(e,t,r){"use strict";var a=r("23e7"),s=r("da84"),o=r("d039"),i=r("e8b5"),n=r("861d"),l=r("7b0b"),c=r("07fa"),u=r("8418"),d=r("65f0"),f=r("1dde"),p=r("b622"),m=r("2d00"),g=p("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",v=s.TypeError,y=m>=51||!o((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),w=f("concat"),R=function(e){if(!n(e))return!1;var t=e[g];return void 0!==t?!!t:i(e)},U=!y||!w;a({target:"Array",proto:!0,forced:U},{concat:function(e){var t,r,a,s,o,i=l(this),n=d(i,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(o=-1===t?i:arguments[t],R(o)){if(s=c(o),f+s>h)throw v(b);for(r=0;r<s;r++,f++)r in o&&u(n,f,o[r])}else{if(f>=h)throw v(b);u(n,f++,o)}return n.length=f,n}})},"9a3d":function(e,t,r){"use strict";r("cc09")},"9bdd":function(e,t,r){var a=r("825a"),s=r("2a62");e.exports=function(e,t,r,o){try{return o?t(a(r)[0],r[1]):t(r)}catch(i){s(e,"throw",i)}}},"9f7f":function(e,t,r){var a=r("d039"),s=r("da84"),o=s.RegExp;t.UNSUPPORTED_Y=a((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,r){"use strict";var a=r("23e7"),s=r("e330"),o=r("44ad"),i=r("fc6a"),n=r("a640"),l=s([].join),c=o!=Object,u=n("join",",");a({target:"Array",proto:!0,forced:c||!u},{join:function(e){return l(i(this),void 0===e?",":e)}})},a4d3:function(e,t,r){"use strict";var a=r("23e7"),s=r("da84"),o=r("d066"),i=r("2ba4"),n=r("c65b"),l=r("e330"),c=r("c430"),u=r("83ab"),d=r("4930"),f=r("d039"),p=r("1a2d"),m=r("e8b5"),g=r("1626"),h=r("861d"),b=r("3a9b"),v=r("d9b5"),y=r("825a"),w=r("7b0b"),R=r("fc6a"),U=r("a04b"),x=r("577e"),D=r("5c6c"),$=r("7c73"),I=r("df75"),_=r("241c"),k=r("057f"),S=r("7418"),C=r("06cf"),E=r("9bf2"),V=r("d1e7"),N=r("f36a"),F=r("6eeb"),A=r("5692"),O=r("f772"),L=r("d012"),T=r("90e3"),j=r("b622"),q=r("e538"),z=r("746f"),B=r("d44e"),P=r("69f3"),M=r("b727").forEach,H=O("hidden"),Z="Symbol",J="prototype",K=j("toPrimitive"),Y=P.set,Q=P.getterFor(Z),W=Object[J],X=s.Symbol,G=X&&X[J],ee=s.TypeError,te=s.QObject,re=o("JSON","stringify"),ae=C.f,se=E.f,oe=k.f,ie=V.f,ne=l([].push),le=A("symbols"),ce=A("op-symbols"),ue=A("string-to-symbol-registry"),de=A("symbol-to-string-registry"),fe=A("wks"),pe=!te||!te[J]||!te[J].findChild,me=u&&f((function(){return 7!=$(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a}))?function(e,t,r){var a=ae(W,t);a&&delete W[t],se(e,t,r),a&&e!==W&&se(W,t,a)}:se,ge=function(e,t){var r=le[e]=$(G);return Y(r,{type:Z,tag:e,description:t}),u||(r.description=t),r},he=function(e,t,r){e===W&&he(ce,t,r),y(e);var a=U(t);return y(r),p(le,a)?(r.enumerable?(p(e,H)&&e[H][a]&&(e[H][a]=!1),r=$(r,{enumerable:D(0,!1)})):(p(e,H)||se(e,H,D(1,{})),e[H][a]=!0),me(e,a,r)):se(e,a,r)},be=function(e,t){y(e);var r=R(t),a=I(r).concat(Ue(r));return M(a,(function(t){u&&!n(ye,r,t)||he(e,t,r[t])})),e},ve=function(e,t){return void 0===t?$(e):be($(e),t)},ye=function(e){var t=U(e),r=n(ie,this,t);return!(this===W&&p(le,t)&&!p(ce,t))&&(!(r||!p(this,t)||!p(le,t)||p(this,H)&&this[H][t])||r)},we=function(e,t){var r=R(e),a=U(t);if(r!==W||!p(le,a)||p(ce,a)){var s=ae(r,a);return!s||!p(le,a)||p(r,H)&&r[H][a]||(s.enumerable=!0),s}},Re=function(e){var t=oe(R(e)),r=[];return M(t,(function(e){p(le,e)||p(L,e)||ne(r,e)})),r},Ue=function(e){var t=e===W,r=oe(t?ce:R(e)),a=[];return M(r,(function(e){!p(le,e)||t&&!p(W,e)||ne(a,le[e])})),a};if(d||(X=function(){if(b(G,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,t=T(e),r=function(e){this===W&&n(r,ce,e),p(this,H)&&p(this[H],t)&&(this[H][t]=!1),me(this,t,D(1,e))};return u&&pe&&me(W,t,{configurable:!0,set:r}),ge(t,e)},G=X[J],F(G,"toString",(function(){return Q(this).tag})),F(X,"withoutSetter",(function(e){return ge(T(e),e)})),V.f=ye,E.f=he,C.f=we,_.f=k.f=Re,S.f=Ue,q.f=function(e){return ge(j(e),e)},u&&(se(G,"description",{configurable:!0,get:function(){return Q(this).description}}),c||F(W,"propertyIsEnumerable",ye,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:X}),M(I(fe),(function(e){z(e)})),a({target:Z,stat:!0,forced:!d},{for:function(e){var t=x(e);if(p(ue,t))return ue[t];var r=X(t);return ue[t]=r,de[r]=t,r},keyFor:function(e){if(!v(e))throw ee(e+" is not a symbol");if(p(de,e))return de[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!u},{create:ve,defineProperty:he,defineProperties:be,getOwnPropertyDescriptor:we}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Re,getOwnPropertySymbols:Ue}),a({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(w(e))}}),re){var xe=!d||f((function(){var e=X();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}));a({target:"JSON",stat:!0,forced:xe},{stringify:function(e,t,r){var a=N(arguments),s=t;if((h(t)||void 0!==e)&&!v(e))return m(t)||(t=function(e,t){if(g(s)&&(t=n(s,this,e,t)),!v(t))return t}),a[1]=t,i(re,null,a)}})}if(!G[K]){var De=G.valueOf;F(G,K,(function(e){return n(De,this)}))}B(X,Z),L[H]=!0},a630:function(e,t,r){var a=r("23e7"),s=r("4df4"),o=r("1c7e"),i=!o((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:s})},a640:function(e,t,r){"use strict";var a=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))}},a766:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"usersBox"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("权限管理")]),r("el-breadcrumb-item",[e._v("权限列表")])],1),r("el-card",{staticClass:"box-card",staticStyle:{height:"610px",overflow:"auto"}},[r("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{border:!0,data:e.rightsData,stripe:!0}},[r("el-table-column",{attrs:{type:"index",index:e.rightsTableIndex,label:"#",width:"70"}}),r("el-table-column",{attrs:{prop:"authName",label:"权限名称",width:"390"}}),r("el-table-column",{attrs:{prop:"path",label:"路径",width:"400"}}),r("el-table-column",{attrs:{prop:"level",label:"权限等级",width:"394"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.level?r("el-tag",[e._v("一级")]):e._e(),"1"==t.row.level?r("el-tag",{attrs:{type:"success"}},[e._v("二级")]):e._e(),"2"==t.row.level?r("el-tag",{attrs:{type:"warning"}},[e._v("三级")]):e._e()]}}])})],1)],1)],1)},s=[],o={name:"Rights",created:function(){this.getRightsList()},data:function(){return{rightsData:[]}},methods:{getRightsList:function(){var e=this;this.$http({method:"get",url:"rights/list"}).then((function(t){var r=t.data;200!=r.meta.status?e.$message({type:"error",message:"服务器好像开小差了哦！"}):e.rightsData=r.data})).catch((function(e){}))}},computed:{rightsTableIndex:function(){var e=1;return e++}}},i=o,n=(r("6fbc"),r("2877")),l=Object(n["a"])(i,a,s,!1,null,"39c36432",null);t["default"]=l.exports},ac1f:function(e,t,r){"use strict";var a=r("23e7"),s=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,r){var a=r("83ab"),s=r("5e77").EXISTS,o=r("e330"),i=r("9bf2").f,n=Function.prototype,l=o(n.toString),c=/^\s*function ([^ (]*)/,u=o(c.exec),d="name";a&&!s&&i(n,d,{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},cc09:function(e,t,r){},d28b:function(e,t,r){var a=r("746f");a("iterator")},e01a:function(e,t,r){"use strict";var a=r("23e7"),s=r("83ab"),o=r("da84"),i=r("e330"),n=r("1a2d"),l=r("1626"),c=r("3a9b"),u=r("577e"),d=r("9bf2").f,f=r("e893"),p=o.Symbol,m=p&&p.prototype;if(s&&l(p)&&(!("description"in m)||void 0!==p().description)){var g={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(m,this)?new p(e):void 0===e?p():p(e);return""===e&&(g[t]=!0),t};f(h,p),h.prototype=m,m.constructor=h;var b="Symbol(test)"==String(p("test")),v=i(m.toString),y=i(m.valueOf),w=/^Symbol\((.*)\)[^)]+$/,R=i("".replace),U=i("".slice);d(m,"description",{configurable:!0,get:function(){var e=y(this),t=v(e);if(n(g,e))return"";var r=b?U(t,7,-1):R(t,w,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:h})}},e538:function(e,t,r){var a=r("b622");t.f=a},fb6a:function(e,t,r){"use strict";var a=r("23e7"),s=r("da84"),o=r("e8b5"),i=r("68ee"),n=r("861d"),l=r("23cb"),c=r("07fa"),u=r("fc6a"),d=r("8418"),f=r("b622"),p=r("1dde"),m=r("f36a"),g=p("slice"),h=f("species"),b=s.Array,v=Math.max;a({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var r,a,s,f=u(this),p=c(f),g=l(e,p),y=l(void 0===t?p:t,p);if(o(f)&&(r=f.constructor,i(r)&&(r===b||o(r.prototype))?r=void 0:n(r)&&(r=r[h],null===r&&(r=void 0)),r===b||void 0===r))return m(f,g,y);for(a=new(void 0===r?b:r)(v(y-g,0)),s=0;g<y;g++,s++)g in f&&d(a,s,f[g]);return a.length=s,a}})},fce3:function(e,t,r){var a=r("d039"),s=r("da84"),o=s.RegExp;e.exports=a((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=user_rights_roles.f5b359be.js.map